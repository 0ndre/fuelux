<!-- tree
================================================== -->
<div class="fu-docs-section">
  <h1 id="tree" class="page-header">Tree <a href="{{ site.repo }}/blob/{{ site.current_version }}/js/tree.js"><small>tree.js</small></a></h1>

  <h2 id="tree-usage">Usage</h2>
  <p>The tree provides a categorical selection interface that allows for interaction and selection of nested elements.</p>

  <div class="form-group">
    <ul class="tree" role="tree" id="treeIllustration">
      <li class="tree-branch hide" data-template="treebranch" role="treeitem" aria-expanded="false">
        <div class="tree-branch-header">
          <button class="tree-branch-name">
            <span class="glyphicon icon-caret glyphicon-play"></span>
            <span class="glyphicon icon-folder glyphicon-folder-close"></span>
            <span class="tree-label"></span>
          </button>
        </div>
        <ul class="tree-branch-children" role="group"></ul>
        <div class="tree-loader" role="alert">Loading...</div>
      </li>
      <li class="tree-item hide" data-template="treeitem" role="treeitem">
        <button class="tree-item-name">
          <span class="glyphicon icon-item fueluxicon-bullet"></span>
          <span class="tree-label"></span>
        </button>
      </li>
    </ul>
  </div>


  <h3 id="tree-usage-javascript">Via JavaScript</h3>
  <p>Call the tree control via JavaScript:</p>
{% highlight js %}
dataSource = function(parentData, callback){
  //...
};

$('#myTree').tree({ dataSource: dataSource });
{% endhighlight %}

  <h3 id="tree-usage-methods">Methods</h3>

  <dl>
    <dt id="tree-usage-methods-destroy">.tree('destroy')</dt>
    <dd>Removes all functionality, jQuery data, and the markup from the DOM. Returns string of control markup</dd>

    <dt id="tree-usage-methods-selectedItems">.tree('selectedItems')</dt>
    <dd>Returns an array containing selected items and associated data</dd>
  </dl>

  <h3 id="tree-usage-options">Options</h3>
  <p>You can pass options via data attributes or JavaScript. For data attributes, append the option name to <code>data-</code>. For example, you could use <code>data-selected=""</code>.</p>
  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead>
      <tr>
        <th style="width: 100px;">Name</th>
        <th style="width: 100px;">type</th>
        <th style="width: 50px;">default</th>
        <th>description</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>multiSelect</td>
        <td>boolean</td>
        <td>false</td>
        <td>Allows multiple tree items to be selected at once</td>
      </tr>
      <tr>
        <td>cacheItems</td>
        <td>boolean</td>
        <td>true</td>
        <td>Prevents refresh of sub-items when a user closes and reopens a folder</td>
      </tr>
      <tr>
        <td>folderSelect</td>
        <td>boolean</td>
        <td>false</td>
        <td>Enables folder selection</td>
      </tr>
      </tbody>
    </table>
  </div><!-- ./fu-table-responsive -->

  <h3 id="tree-usage-datasource">Required Data Source</h3>
  <p>The tree control requires an array of objects in order to create a tree. To determine what tree nodes to create, the tree control uses a callback function named <code>datasource</code> that returns an object with an array named <code>data</code> within it. Items in <codd>data</codd> will be created when a branch is opened. All tree nodes <i>must be loaded</i> into the control one folder (branch) at a time. However, one can store the entire tree from a single network request, and use the datasource function to parse this combined object and not make additional network requests. The following are reserved keys within each item object.</p>

  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead>
      <tr>
        <th style="width: 125px;">Key</th>
        <th style="width: 100px;">Type</th>
        <th>Description</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>text</td>
        <td>string</td>
        <td><i>Required.</i> Text of tree node. *Please note: text replaces and deprecates name</td>
      </tr>
      <tr>
        <td>type</td>
        <td>string</td>
        <td><i>Required.</i> Options are <code>folder</code> or <code>item</code>.</td>
      </tr>
      <tr>
        <td>attr</td>
        <td>object</td>
        <td>Unless it is a reserved key in this table, child keys will be added as attributes to <code>.tree-item</code> or <code>.tree-branch</code>.</td>
      </tr>
      <tr>
        <td>attr.cssClass</td>
        <td>string</td>
        <td>CSS classes that will be added to <code>.tree-item</code> or <code>.tree-branch</code></td>
      </tr>
      <tr>
        <td>attr.data-icon</td>
        <td>string</td>
        <td>CSS classes that will be added to <code>.icon-item</code></td>
      </tr>
      <tr>
        <td>attr.id</td>
        <td>string</td>
        <td>Adds <code>id</code> to <code>.tree-item</code> or <code>.tree-branch</code> and adds ARIA support with <code>aria-labelledby</code>.</td>
      </tr>
      </tbody>
    </table>
  </div><!-- ./fu-table-responsive -->

  <h3 id="tree-usage-events">Events</h3>
  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead>
      <tr>
        <th style="width: 150px;">Event Type</th>
        <th>Description</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>deselected.fu.tree</td>
        <td>This event fires when a user closes a sub-folder. Returns an object containing folder information.</td>
      </tr>
      <tr>
        <td>loaded.fu.tree</td>
        <td>This event fires when sub-content has been is loaded.</td>
      </tr>
      <tr>
        <td>opened.fu.tree</td>
        <td>This event fires when a user opens a sub-folder. Returns an object containing folder information.</td>
      </tr>
      <tr>
        <td>closed.fu.tree</td>
        <td>This event fires when a user closes a sub-folder. Returns an object containing folder information.</td>
      </tr>
      <tr>
        <td>selected.fu.tree</td>
        <td>This event fires when a user selects one or more items. Returns an object containing <code>{info: data}</code>. <code>data</code> represents an array of selected items.</td>
      </tr>
      </tbody>
    </table>
  </div><!-- ./fu-table-responsive -->
  <p>All tree events are fired on the <code>.tree</code> classed element.</p>
{% highlight js %}
$('#myTree').on('loaded.fu.tree', function () {
  // do something
})
{% endhighlight %}

  <h2 id="tree-examples">Examples</h2>

  <p>Tree provides a categorical element selection. Use it to create a file system interface. Wrap the wrapper tree containers with <code>.fuelux .tree</code></p>

  <div class="form-group">
    <label class="control-label">Items selectable only</label>
    <div class="form-group">

      <ul class="tree" role="tree" id="myTree">
        <li class="tree-branch hide" data-template="treebranch" role="treeitem" aria-expanded="false">
          <div class="tree-branch-header">
            <button class="tree-branch-name">
              <span class="glyphicon icon-caret glyphicon-play"></span>
              <span class="glyphicon icon-folder glyphicon-folder-close"></span>
              <span class="tree-label"></span>
            </button>
          </div>
          <ul class="tree-branch-children" role="group"></ul>
          <div class="tree-loader" role="alert">Loading...</div>
        </li>
        <li class="tree-item hide" data-template="treeitem" role="treeitem">
          <button class="tree-item-name">
            <span class="glyphicon icon-item fueluxicon-bullet"></span>
            <span class="tree-label"></span>
          </button>
        </li>
      </ul>

    </div>
  </div>
{% highlight html %}
<ul class="tree" role="tree" id="myTree">
  <li class="tree-branch hide" data-template="treebranch" role="treeitem" aria-expanded="false">
    <div class="tree-branch-header">
      <button class="tree-branch-name">
        <span class="glyphicon icon-caret glyphicon-play"></span>
        <span class="glyphicon icon-folder glyphicon-folder-close"></span>
        <span class="tree-label"></span>
      </button>
    </div>
    <ul class="tree-branch-children" role="group"></ul>
    <div class="tree-loader" role="alert">Loading...</div>
  </li>
  <li class="tree-item hide" data-template="treeitem" role="treeitem">
    <button class="tree-item-name">
      <span class="glyphicon icon-item fueluxicon-bullet"></span>
      <span class="tree-label"></span>
    </button>
  </li>
</ul>
{% endhighlight %}

  <div class="form-group">
    <label class="control-label">Folders selectable</label>
    <div class="form-group">

      <ul class="tree tree-folder-select" role="tree" id="myTreeSelectableFolder">
        <li class="tree-branch hide" data-template="treebranch" role="treeitem" aria-expanded="false">
          <div class="tree-branch-header">
            <button class="glyphicon icon-caret glyphicon-play"><span class="sr-only">Open</span></button>
            <button class="tree-branch-name">
              <span class="glyphicon icon-folder glyphicon-folder-close"></span>
              <span class="tree-label"></span>
            </button>
          </div>
          <ul class="tree-branch-children" role="group"></ul>
          <div class="tree-loader" role="alert">Loading...</div>
        </li>
        <li class="tree-item hide" data-template="treeitem" role="treeitem">
          <button class="tree-item-name">
            <span class="glyphicon icon-item fueluxicon-bullet"></span>
            <span class="tree-label"></span>
          </button>
        </li>
      </ul>

    </div>
  </div>

{% highlight html %}
<ul class="tree tree-folder-select" role="tree" id="myTree">
  <li class="tree-branch hide" data-template="treebranch" role="treeitem" aria-expanded="false">
    <div class="tree-branch-header">
      <button class="glyphicon icon-caret glyphicon-play"><span class="sr-only">Open</span></button>
      <button class="tree-branch-name">
        <span class="glyphicon icon-folder glyphicon-folder-close"></span>
        <span class="tree-label"></span>
      </button>
    </div>
    <ul class="tree-branch-children" role="group"></ul>
    <div class="tree-loader" role="alert">Loading...</div>
  </li>
  <li class="tree-item hide" data-template="treeitem" role="treeitem">
    <button class="tree-item-name">
      <span class="glyphicon icon-item fueluxicon-bullet"></span>
      <span class="tree-label"></span>
    </button>
  </li>
</ul>
{% endhighlight %}


</div>
